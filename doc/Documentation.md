# 设计文档 - 技术规格说明书

[toc]

## 技术栈

**程序设计语言**：JavaScript

**应用开发框架**：React Native + Realm by MangoDB

**开发环境：**Node.js

**运行环境**：Android ( + iOS )

## 子系统

本地客户端 + 远端数据存储服务器。

### 移动本地客户端

包含用户使用OkiDoki时除了同步数据到远端的所有功能：

* Quick Memo：迅速记录待办事件，如突然接到的通知
* EventSrc-based：针对某个事项的待办，如针对某一科的作业、考研的具体复习任务等
* 三个视图：

    * 总视图：以天为单位显示两个功能下在这一天的所有任务，默认智能排序
    * Quick Memo视图：所有速记待办事件
    * EventSrc-based视图：事项列表，每一个事项列表下可以有多个常规计划和速记待办事件，可选按照DDL或优先度排序或智能排序

#### 模块

1. 视图模块：总视图、Quick Memo视图、EventSrc-based视图
2. Quick Memo核心功能模块
3. EventSrc-based核心功能模块
4. 图像识别模块（拍照识别书籍目录）

### 远端数据存储服务器

包含用户主动申请或系统自动的数据保存、迁移功能：

* 系统自动设置云同步，用户可以自己设置同步频率
* 用户主动申请云同步数据

#### 模块

1. 数据存储模块
2. 数据拉取模块

### 模块间关系

![image-20220415112511807](modules.png)

### 子系统间关系

<img src="systems.png" style="zoom:50%;" />

## 系统开发

### 代码编写

团队分模块（视图模块、Quick Memo核心功能模块、EventSrc-based核心功能模块、数据拉取模块、图像识别模块、数据存储模块）编写代码。

前端团队：视图模块

后端团队：Quick Memo核心功能模块、EventSrc-based核心功能模块、数据拉取模块、图像识别模块、数据存储模块

### 单元测试

1. 针对Quick Memo增减编辑任务的测试；
2. 针对Event-based增建编辑任务的测试；
3. 针对Quick Memo迁移到Event-based的测试；
4. 针对远端同步、拉取的测试；
4. 针对视图功能的测试；
5. 针对用户界面的测试。
5. ……

### 系统压力测试

1. 针对海量数据的功能压力测试（排序、视图等）；
2. 针对怪异图片的导入功能测试。
3. ……

### 真实测试

1. 通过脚本建立数据传入测试；
2. 通过用户真实使用测试；
3. ……

### **系统文档**

- 系统层面
    - 运行环境
        - Android
        - （iOS）
        - 需要权限：相机、通知、WLAN & Cellular

    - 系统设计

      我们将系统分为六个模块：视图模块、Quick
      Memo核心功能模块、EventSrc-based核心功能模块、数据拉取模块、图像识别模块、数据存储模块，其中每个模块之间都可以独立开发并独立维护，做到低耦合，团队合作也相对容易。另外，我们在运行时会尽可能全面记录日志，在测试维护时更加方便。

    - 系统性能
        - 我们主要从系统功能的响应时间来评估系统性能。

- 业务流程层面
    - 我们在用户界面会严格限制用户输入；
    - 如果有异常发生，我们会尽可能详细地给出异常信息。
